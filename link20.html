<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/styles.css">
	<title>Document</title>
</head>

<body>

	<main class="main">
		<div class="container">
			<div class="main__category">
				<article class="article__item">
					<h2 class="article__title title-article">
						Робота з формами та елементами форм
					</h2>

					<div class="article__body body-article">

						<blockquote>
							У цьому документі описано загальний функціонал роботи з полями, плейсхолдерами, валідацією,
							варіантами відправлення форм тощо. В окремих розділах буде описано функціонал конкретних елементів
							форм, таких як:
						</blockquote>
						<ul>
							<li><a href="link26.html">Надсилання листів на пошту (PHPMailer)</a></li>
							<li><a href="link21.html">Кастомізація елемента SELECT</a></li>
							<li>Кастомізація (стилізація) елементів CHECKBOX та RADIO</li>
							<li>Модуль “Маски” для полів вводу</li>
							<li>Модуль “Зоряний рейтинг”</li>
							<li><a href="link25.html">Модуль “Кількість”</a></li>
							<li>Модуль “Range” (повзунок)</li>
						</ul>

						<h3>Робота з полями форм</h3>
						<p>
							Робота з полями форм має на увазі наступний функціонал:
						</p>
						<ol>
							<li>Додавання класів полю та його батькові при фокусі</li>
							<li>Функціонал “Показати пароль” для полів з типом password</li>
							<li>Можливість моментальної валідації поля при втраті фокусу</li>
						</ol>
						<p>
							Щоб підключити загальний функціонал до роботи з полями форм необхідно розкоментувати функцію
							<strong>flsForms.formFieldsInit({…})</strong> у файлі <strong>js/app.js:</strong>
						</p>
						<img src="img/Screenshot_69.png" alt="">
						<p>
							Передавати функції можна за допомогою наступних параметрів:
						</p>
						<ul>
							<li><strong>viewPass</strong> -
								дозволяє увімкнути функціонал “Показати пароль” . true – увімкнено, false – вимкнено (за
								замовчуванням).</li>
							<li><strong>autoHeight</strong> – дозволяє увімкнути функціонал “Автовисота” для текстової області.
								true – увімкнено, false – вимкнено (за замовчуванням).</li>
						</ul>

						<h4>Робота с атрибутом placeholder</h4>
						<p>
							Для того, щоб надпис який є в атрибуті поля форми <strong>placeholder</strong> зникав при фокусі,
							необхідно додати до поля класс <strong>input</strong> та розкоментувати <strong>@import
								&#8220;input&#8221;;</strong> у файлі <strong>scss/base/forms/forms.scss</strong>. Якщо нам
							потрібно вимкнути приховування для конкретного поля, слід додати атрибут
							<strong>data-placeholder-nohide</strong>
						</p>

						<h4>Валідація поля при втраті фокусу</h4>
						<p>
							Для того, щоб скрипт почав викликати <a href="#">функціонал валідації</a> поля в момент втрати ним
							фокусу, слід додати полю атрибут <strong>data-validate</strong>.
						</p>
						<p>
							Варто додати, що функціонал роботи з полями форм також видалить помилку додану до поля валідатор
							при отриманні фокусу. Докладніше про функціонал валідації полів дивись далі в цьому документі.
						</p>

						<h4>Функціонал “Показати пароль”</h4>
						<p>
							Функціонал “Показати пароль” дозволяє відображати зашифроване значення поля з типом password при
							натисканні на об’єкт з класом, що містить рядок “__viewpass”, який знаходиться разом з полем в
							одному батьку:
						</p>
						<img src="img/Screenshot_70.png" alt="">
						<p>
							У момент кліка на об&#8217;єкт з класом, що містить рядок &#8220;__viewpass&#8221;, до нього
							додається клас <strong>_viewpass-active</strong>, а тип поля введення змінюється на text. Повторне
							натискання виконає зворотні дії.
						</p>
						<p>
							Нагадаю, щоб увімкнути функціонал &#8220;Показати пароль&#8221; слід вказати<strong> true</strong>
							для параметра <strong>viewPass </strong>при підключенні функціонала у файлі
							<strong>js/app.js</strong>.
						</p>

						<h4>Функціонал “Автовисота” для textarea</h4>
						<p>
							Функціонал “Автовисота” дозволяє елементу textarea автоматично підлаштовуватися по висоті під
							текст, що вводиться.
						</p>
						<p>
							Для включення необхідно назвати <strong>true </strong>для параметра <strong>autoHeight</strong>, а
							також додати атрибут <strong>data-autoheight</strong> елементe(ам) textarea.
						</p>
						<img src="img/Screenshot_71.png" alt="">
						<p>
							Додатково можна вказати такі параметри:
						</p>
						<ul>
							<li><strong>data-autoheight-min=’число’ </strong>– мінімальна (стартова) висота textarea</li>
							<li><strong>data-autoheight-max=’число’ </strong>– максимальна висота textarea</li>
						</ul>

						<h3>Валідація елементів форм</h3>
						<p>
							Для включення функціоналу слід розкоментувати функцію <strong>flsForms.formSubmit();</strong>
							та/або <strong>flsForms.formFieldsInit({&#8230;})</strong> у файлі <strong>js/app.js</strong>
						</p>
						<p>
							Щоб елемент форми почав проходити валідацію, йому слід додати атрибут
							<strong>data-required</strong>. Тепер при надсиланні форми, а також якщо елементу доданий атрибут
							<strong>data-validate</strong>, він перевірятиметься на предмет правильного заповнення.
						</p>
						<blockquote>
							При доданому атрибуті <strong>data-validate</strong> валідація буде відбуватись миттєво
							при втраті полем фокусу
						</blockquote>
						<p>
							Щоб включити особливі правила валідації поля, атрибуту слід додати одне з значень:
						</p>
						<ul>
							<li><strong>email</strong> – увімкне валідацію на введення коретного E-mail</li>
							<li>йде робота над новими пресетами</li>
						</ul>
						<p><i>Приклад:</i></p>
						<img src="img/Screenshot_72.png" alt="">
						<p>
							Якщо елемент заповнений неправильно, до нього, а також до його батька додасться клас
							<strong>_form-error</strong>. Якщо ми хочемо додатково вивести довільний текст помилки, слід
							вказати його в атрибуті <strong>data-error</strong> і додати до поля:
						</p>
						<img src="img/Screenshot_73.png" alt="">
						<p>
							Тепер, при виникненні помилки валідації, під елементом додасться об&#8217;єкт із класом
							<strong>form__error</strong>, який містить ваш текст помилки.
						</p>
						<p>
							Нагадаю, що функціонал роботи з полями видалить класи помилок та об&#8217;єкт із класом
							<strong>form__error</strong> при отриманні полем фокусу.
						</p>
						<blockquote>
							Для відключення валідації елементів конкретної форми їй слід додати атрибут
							<strong>data-no-validate</strong>
						</blockquote>

						<h3>Відправлення форм</h3>
						<p>
							Для включення функціоналу слід розкоментувати функцію <strong>flsForms.formSubmit();</strong> у
							файлі <strong>js/app.js</strong>:
						</p>

						<h4>Валідація елементів форми</h4>
						<p>
							За замовчанням, при відправленні форми поля відмічені
							<strong>data-required/data-required=&#8217;…&#8217;</strong> будуть проходити валідацію. Для
							відключення валідації елементів конкретної форми їй слід додати атрибут
							<strong>data-no-validate</strong>
						</p>

						<h4>Режими відправлення форми</h4>
						<p>
							У ЧФ існує кілька режимів контролю надсилання форм:
						</p>
						<ol>
							<li><strong>Стандартне HTML відправлення форми </strong>(за замовчуванням) – якщо валідація
								пройдена (була включена), форма відправиться на вказану в атрибуті action адресу (з переходом
								сторінки), методом вказаним в атрибуті метод.
							</li>
							<li><strong>AJAX відправка форми</strong> – якщо валідацію пройдено (було включено), форма
								відправиться AJAX запитом на вказану в атрибуті action адресу, методом вказаним в атрибуті
								method. Сторінка не перезавантажиться, всі елементи форми повернуться до вихідних значень
								(очищення форми).
							</li>
							<li><strong>Режим імітації відправки форми</strong> – якщо валідацію пройдено (було включено),
								форма нікуди не відправиться, сторінка не перезавантажиться, всі елементи форми повернуться до
								вихідних значень (очищення форми). Використовується для демонстрації додаткових можливостей
								форм, таких, як показ попапа про успішну відправку.
							</li>
						</ol>
						<blockquote>
							<p>
								Для включення режиму <strong>AJAX надсилання</strong> достатньо додати формі атрибут
								<strong>data-ajax</strong>, а якщо потрібний режим<strong> імітації надсилання</strong> додаємо
								атрибут <strong>data-dev</strong>.
							</p>
						</blockquote>
						<img src="img/Screenshot_74.png" alt="">

						<h4>Прокручування до елемента з помилкою</h4>
						<p>
							Буває, що форма дуже велика і, при виникненні помилки валідації, добре показати елемент з помилкою
							користувачеві. Для цього є функціонал “прокрутка до елементу з помилкою”. Для включення достатньо
							додати формі атрибут <strong>data-goto-error</strong>
						</p>
						<img src="img/Screenshot_75.png" alt="">

						<h4>Показ попапа після надсилання форми</h4>
						<p>
							Якщо необхідно, після відправки форми, показати попап додаємо до форми атрибут data-popup-message і
							як значення вказуємо селектор попапа
						</p>
						<blockquote>
							<p>
								Тільки для режимів <strong>data-ajax</strong> або <strong>data-dev</strong>. <a
									href="link10.html" target="_blank" rel="noreferrer noopener">Функціонал попапів</a> також має
								бути підключений
							</p>
						</blockquote>
						<img src="img/Screenshot_76.png" alt="">

						<h3>Події</h3>
						<p>
							Після кожної відправки форми спрацьовує подію у <strong>formSent</strong>, її можна відловити в
							будь-якій частині коду:
						</p>
						<img src="img/Screenshot_77.png" alt="">

						<h3>Розташування та додаткові дані</h3>
						<p>
							Функціі <strong>formFieldsInit()</strong>, <strong>formSubmit()</strong> а також об&#8217;єкт <strong>formValidate </strong>знаходяться у файлі<strong> js/files/forms/form.js</strong>
						</p>
						
					</div>
				</article>
			</div>
		</div>
	</main>

</body>

</html>